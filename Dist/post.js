const newFormHandler=async a=>{a.preventDefault();const b=document.querySelector("#post-author").value.trim(),c=document.querySelector("#post-title").value.trim(),d=document.querySelector("#post-content").value.trim();if(b&&c&&d){const a=await fetch(`/api/post`,{method:"POST",body:JSON.stringify({author:b,title:c,content:d}),headers:{"Content-Type":"application/json"}});a.ok?document.location.replace("/dashboard"):alert("Failed to create post")}},delButtonHandler=async a=>{if(a.target.hasAttribute("data-id")){const b=a.target.getAttribute("data-id"),c=await fetch(`/api/post/${b}`,{method:"DELETE"});c.ok?document.location.replace("/dashboard"):alert("Failed to delete post")}};document.querySelector(".new-post-form").addEventListener("submit",newFormHandler),document.querySelector(".post-list").addEventListener("click",delButtonHandler);